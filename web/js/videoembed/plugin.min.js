(function(){var c=500;var b=375;function a(d){d.windowManager.open({title:"Add Video",width:500,height:200,body:[{type:"textbox",name:"video_url",label:"Video URL"},{type:"textbox",name:"width",label:"Width",value:c.toString()},{type:"textbox",name:"height",label:"Height",value:b.toString()},],onsubmit:function(i){var j=i.data.video_url;var h=i.data.width;var g=i.data.height;if(j!=""&&(j.indexOf("vimeo.com")>=0||j.indexOf("youtube.com")>=0||j.indexOf("youtu.be")>=0)){if(j.indexOf("http://")!=0&&j.indexOf("https://")!=0){j="http://"+j}var f="";if(j.indexOf("vimeo.com")>=0){f='<iframe src="'+j+'" width="'+h+'" height="'+g+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'}else{if(j.indexOf("youtube.com")>=0||j.indexOf("youtu.be")>=0){f=j.replace(/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=)?(.+)/g,'<iframe width="'+h+'" height="'+g+'" src="http://www.youtube.com/embed/$1" frameborder="0" allowfullscreen></iframe>')}}d.insertContent(f)}}})}tinymce.PluginManager.add("videoembed",function(e,d){e.addButton("videoembed",{text:"Add Video",icon:"media",onclick:function(){a(e)}});e.addMenuItem("videoembed",{text:"Add Video",context:"insert",icon:"media",onclick:function(){a(e)}})})})();